window.__require=function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var l=s.split("/");if(l=l[l.length-1],!t[l]){var u="function"==typeof __require&&__require;if(!a&&u)return u(l,!0);if(c)return c(l,!0);throw new Error("Cannot find module '"+s+"'")}s=l}var r=n[s]={exports:{}};t[s][0].call(r.exports,function(e){return o(t[s][1][e]||e)},r,r.exports,e,t,n,i)}return n[s].exports}for(var c="function"==typeof __require&&__require,s=0;s<i.length;s++)o(i[s]);return o}({ButtonScaler:[function(e,t){"use strict";cc._RF.push(t,"23d4cRdqCZNOIRFRXVg1uPL","ButtonScaler"),cc.Class({extends:cc.Component,properties:{pressedScale:.85,transDuration:.1},onLoad:function(){var e=this;function t(){this.node.runAction(e.scaleUpAction)}e.initScale=this.node.scale,e.button=e.getComponent(cc.Button),e.scaleDownAction=cc.scaleTo(e.transDuration,e.pressedScale),e.scaleUpAction=cc.scaleTo(e.transDuration,e.initScale),this.node.on("touchstart",function(){this.node.runAction(e.scaleDownAction)},this),this.node.on("touchend",t,this),this.node.on("touchcancel",t,this)}}),cc._RF.pop()},{}],bg:[function(e,t){"use strict";cc._RF.push(t,"5529bALa3NATp8YuWM0mR9/","bg");var n=e("initObj");cc.Class({extends:cc.Component,properties:{bg1:{default:null,type:cc.Node},bg2:{default:null,type:cc.Node}},init:function(){var e=n.player.level;e>1&&(this["bg"+(e-1)].active=!1),this["bg"+e].active=!0}}),cc._RF.pop()},{initObj:"initObj"}],claw:[function(e,t){"use strict";cc._RF.push(t,"c0965pK/FlFGaW1wh+8Cn+n","claw");var n=e("config"),i=n.obj,o=n.player;cc.Class({extends:cc.Component,properties:{minerNode:{default:null,type:cc.Node},objNode:{default:null,type:cc.Node}},onLoad:function(){this.miner=this.minerNode.getComponent("miner")},onCollisionEnter:function(e){if("down"!=this.miner.state)return!1;var t=i["tag"+e.tag];if(this.miner.state="up",this.miner.getAnimation(t.speed),o.preMoney=t.money,0!==t.money){this.miner.clawClose();var n=this.objNode,c=e.node.getComponent(cc.Sprite);n.getComponent(cc.Sprite).spriteFrame=c.spriteFrame,n.width=e.node.width,n.height=e.node.height,this.objShow(),e.node.destroy()}},objShow:function(){this.objNode.opacity=255},objHide:function(){this.objNode.opacity=0}}),cc._RF.pop()},{config:"config"}],config:[function(e,t){"use strict";var n;cc._RF.push(t,"77985bwWDZG+pukBl6BT6jd","config");var i={type:"heavy",numb:1},o={type:"light",numb:2},c={type:"fast",numb:4},s={money:0,level:1,state:[],pause:!0,gameState:"run",preMoney:0,minerState:"rotate",isgamerun:function(){return"run"==this.gameState},getTarget:function(){return console.log(l["level"+this.level].money),l["level"+this.level].money},isSuccess:function(){return this.money>=this.getTarget()},gameEnd:function(){this.gameState="end"},gameRun:function(){this.gameState="run"},get isSound(){return"false"!==cc.sys.localStorage.getItem("isSound")},set isSound(e){cc.sys.localStorage.setItem("isSound",e)},get isMusic(){return"false"!==cc.sys.localStorage.getItem("isMusic")},set isMusic(e){cc.sys.localStorage.setItem("isMusic",e)}},a=((n={tag1:{name:"kong",speed:{type:"light",numb:3},money:0},tag2:{name:"gold1",speed:o,money:50},tag3:{name:"gold2",speed:o,money:100},tag4:{name:"gold3",speed:i,money:250},tag5:{name:"gold4",speed:i,money:500},tag6:{name:"boneBody",speed:o,money:7},tag7:{name:"boneHead",speed:o,money:20},tag8:{name:"stone0",speed:o,money:11},tag9:{name:"stone1",speed:i,money:20},tag10:{name:"mouse",speed:o,money:2}}).tag10={name:"bag",speed:o,get money(){return Math.ceil(800*Math.random())}},n.tag11={name:"diamonds",speed:o,money:600},n),l={level1:{money:500,obj:u({tag2:[[100,100],[150,150]],tag3:[[100,300],[200,400]],tag4:[[700,30],[780,60],[180,100]],tag5:[[500,30],[680,160],[280,120]],tag8:[[700,400],[80,380],[880,100]],tag9:[[500,230]]})},level2:{money:5e3,obj:u({tag2:[[0,0],[100,100],[150,110]],tag4:[[-100,-20],[100,20]]})}};function u(e){var t,n,i,o,c=[];for(t in e)for(i=e[t],n=0;n<i.length;n++)(o=JSON.parse(JSON.stringify(a[t]))).x=i[n][0],o.y=i[n][1],c.push(o);return c}t.exports={level:l,player:s,obj:a,get fastSpeed(){return c},set fastSpeed(e){cc.warn("\u65e0\u6cd5\u8bbe\u7f6efastSpeed\u4e3a"+e)}},cc._RF.pop()},{}],game:[function(e,t){"use strict";cc._RF.push(t,"a9d2a7g7/RI6al/2Pecq0ga","game");var n=e("initObj").player;cc.Class({extends:cc.Component,properties:{levelmusic:{default:null,url:cc.AudioClip},bgNode:{default:null,type:cc.Node},stateNode:{default:null,type:cc.Node},objNode:{default:null,type:cc.Node},minerNode:{default:null,type:cc.Node},leveloverNode:{default:null,type:cc.Node},clawNode:{default:null,type:cc.Node}},onLoad:function(){this.init(),this.setCollision(),this.listenclick(),this.scheduleOnce(function(){this.goLevel()},.1)},init:function(){this.bg=this.bgNode.getComponent("bg"),this.state=this.stateNode.getComponent("state"),this.obj=this.objNode.getComponent("obj"),this.miner=this.minerNode.getComponent("miner"),this.claw=this.clawNode.getComponent("claw"),this.levelover=this.leveloverNode.getComponent("levelover"),this.menuNode=cc.find("menu"),this.menu=this.menuNode.getComponent("menu")},setLevelmusic:function(){this.menu.setcurrentbgAudio(this.levelmusic)},setCollision:function(){cc.director.getCollisionManager().enabled=!0},goLevel:function(){n.pause=!1,this.setLevelmusic(),this.bg.init(),this.state.init(),this.obj.init(),this.miner.init()},gameEnd:function(){n.gameEnd(),n.preMoney=0,this.leveloverNode.active=!0,n.isSuccess()?this.levelover.success():this.levelover.fail()},goNext:function(){this.leveloverNode.active=!1,n.isSuccess()?(n.level++,this.goLevel()):(n.level=1,cc.director.loadScene("index"))},gameRun:function(){n.gameRun()},minerUp:function(){this.claw.objHide(),this.state.addMoney()},listenclick:function(){this.node.on("touchend",function(){"rotate"!=this.miner.state||n.pause||(this.miner.state="down")},this)},pause:function(){this.menu.menushow()},run:function(){}}),cc._RF.pop()},{initObj:"initObj"}],index:[function(e,t){"use strict";cc._RF.push(t,"a221du3OvNDdouNNSeHKZrZ","index"),e("initObj").player,cc.Class({extends:cc.Component,properties:{menubgAudio:{default:null,url:cc.AudioClip},cloud:{type:cc.Node,default:null},miner:{type:cc.Node,default:null},leg:{type:cc.Node,default:null},face:{type:cc.Node,default:null},minerdelayTime:{type:cc.Float,default:0},clouddelayTime:{type:cc.Float,default:0},settingbutton:{type:cc.Node,default:null},startgame:{type:cc.Node,default:null}},settingbuttonClick:function(){cc.find("menu").getComponent("menu").menushow()},startgameClick:function(){cc.director.loadScene("LeaveScene")},onLoad:function(){var e=this.minerdelayTime;this.cloudMove(),this.minerRightAction(e),this.scheduleOnce(function(){this.minerAction()},e),cc.find("menu").getComponent("menu").setcurrentbgAudio(this.menubgAudio)},cloudMove:function(){var e=cc.repeatForever(cc.sequence(cc.moveBy(this.clouddelayTime,1200,0),cc.moveBy(0,-1200,0)));this.cloud.runAction(e)},minerRightAction:function(e){this.face.opacity=0;var t=cc.moveBy(e,cc.Vec2(340,0));this.miner.runAction(t)},minerAction:function(){this.leg.getComponent(cc.Animation).play("miner_leg"),this.face.getComponent(cc.Animation).play("miner_face"),this.face.opacity=255}}),cc._RF.pop()},{initObj:"initObj"}],initObj:[function(e,t){"use strict";cc._RF.push(t,"89be7GrbhlNd5dvO/eM7ZCk","initObj");var n=e("config"),i=n.player,o=n.level;t.exports={player:i,time:60,levelTimeBanner:{position:cc.v2(263,391)},miner:{position:cc.v2(554,129)},getobj:function(){return o["level"+i.level].obj},fastSpeed:n.fastSpeed},cc._RF.pop()},{config:"config"}],levelover:[function(e,t){"use strict";cc._RF.push(t,"6e262iFH/dEtbhzAFuCGdWF","levelover"),cc.Class({extends:cc.Component,properties:{stateNode:{default:null,type:cc.Node}},onLoad:function(){this.stateLabel=this.stateNode.getComponent(cc.Label)},success:function(){this.stateLabel.string="\u901a\u5173\u6210\u529f"},fail:function(){this.stateLabel.string="\u901a\u5173\u5931\u8d25"}}),cc._RF.pop()},{}],menu:[function(e,t){"use strict";cc._RF.push(t,"8697fIQM/lDkK7Gz7bKKtAU","menu");var n=e("initObj").player;cc.Class({extends:cc.Component,properties:{clicksound:{default:null,url:cc.AudioClip},isSound:{default:!0},isMusic:{default:!0},menu:{type:cc.Node,default:null},mask:{type:cc.Node,default:null},currentbgAudio:null,closeMenubutton:{type:cc.Node,default:null},soundonbtn:{type:cc.Node,default:null},soundoffbtn:{type:cc.Node,default:null},musiconbtn:{type:cc.Node,default:null},musicoffbtn:{type:cc.Node,default:null},outgame:{type:cc.Node,default:null}},onLoad:function(){cc.game.addPersistRootNode(this.node),this.listeninit()},soundonbtnClick:function(){this.soundCtrl(!1),this.playClickSound()},soundoffbtnClick:function(){this.soundCtrl(!0),this.playClickSound()},musiconbtnClick:function(){this.musciCtrl(!1),this.playClickSound()},musicoffbtnClick:function(){this.musciCtrl(!0),this.playClickSound()},initsound:function(){this.soundCtrl("false"!==n.isSound),this.musciCtrl("false"!==n.isMusic)},playClickSound:function(){n.isSound&&cc.audioEngine.playEffect(this.clicksound,!1,!0)},soundCtrl:function(e){console.log(e),n.isSound=e,this.soundonbtn.active=e,this.soundoffbtn.active=!e},musciCtrl:function(e){n.isMusic=e,this.musiconbtn.active=e,this.musicoffbtn.active=!e,this.menuSoundCtrl(e)},setcurrentbgAudio:function(e){this.currentbgAudio&&cc.audioEngine.stopMusic(),this.currentbgAudio=e,this.initsound()},menuSoundCtrl:function(e){e?cc.audioEngine.playMusic(this.currentbgAudio,!0):cc.audioEngine.stopMusic()},listeninit:function(){this.closeMenubutton.on("touchend",function(){this.menuhide()},this),this.outgame.on("touchend",function(){cc.log("\u9000\u51fa\u6e38\u620f")},this)},menushow:function(){n.pause=!0;var e=cc.moveTo(.2,40,0),t=cc.moveTo(.5,-10,0),i=cc.moveTo(.3,-0,0);e.easing(cc.easeOut(2));var o=cc.sequence(e,t,i);this.menu.runAction(o),this.mask.active=!0},menuhide:function(){n.pause=!1;var e=cc.moveTo(.3,-30,0),t=cc.moveTo(.3,500,0),i=cc.moveTo(0,-648,0),o=cc.callFunc(function(){this.mask.active=!1},this,0);e.easing(cc.easeOut(1.5)),t.easing(cc.easeIn(5));var c=cc.sequence(e,t,o,i);this.menu.runAction(c)}}),cc._RF.pop()},{initObj:"initObj"}],miner:[function(e,t){"use strict";cc._RF.push(t,"ab864fWm3hCPbT+oWZt7sIq","miner");var n=e("initObj"),i=n.player;cc.Class({extends:cc.Component,properties:{gameNode:{default:null,type:cc.Node},ropeNode:{default:null,type:cc.Node},clawNode:{default:null,type:cc.Node},claw0Node:{default:null,type:cc.Node},claw1Node:{default:null,type:cc.Node}},onLoad:function(){this.animation=this.node.getComponent(cc.Animation),this.game=this.gameNode.getComponent("game"),this.rope=this.ropeNode.getComponent("rope"),this.claw=this.clawNode.getComponent("claw"),this.claw0=this.claw0Node.getComponent("claw0"),this.claw1=this.claw1Node.getComponent("claw1")},init:function(){this.texture=this.getComponent(cc.Sprite).spriteFrame,this.minerToRight()},minerToRight:function(){var e=cc.moveTo(1,cc.Vec2(0,n.miner.position.y));this.node.setPosition(n.miner.position),this.node.runAction(e),this.animation.play("miner-appear"),this.scheduleOnce(function(){this.animation.stop(),this.getComponent(cc.Sprite).spriteFrame=this.texture,this.ropeRotate(),this.game.gameRun()},1,this)},minerToleft:function(){var e=cc.callFunc(function(){this.animation.stop(),this.game.goNext()},this),t=cc.moveTo(1.5,n.miner.position);this.node.runAction(cc.sequence(t,e))},getAnimation:function(e){this.animationType="miner-pull-"+e.type,this.animation.play(this.animationType),this.getSpeend=e.numb},ropeRotate:function(){var e=this.ropeNode,t=75,o=1,c=this.clawNode.y,s=this.ropeNode.height,a=!1,l=!1;function u(){var e=this.getSpeend;this.ropeNode.height-=e,this.clawNode.y+=e,this.clawNode.y>=c&&(this.state="rotate",this.clawNode.y=c,this.ropeNode.height=s,this.animation.stop(),this.getComponent(cc.Sprite).spriteFrame=this.texture,this.clawOpen(),this.game.minerUp())}function r(){this.ropeNode.height+=10,this.clawNode.y-=10}function d(){e.angle+=o,e.angle>t&&(o=-1),e.angle<-t&&(o=1)}this.state="rotate",this.callback=function(){if(i.isgamerun())if(i.pause)"up"==this.state&&(this.animation.pause(),a=!0);else switch(this.state){case"down":r.call(this);break;case"up":a&&(this.animation.play(this.animationType),a=!1),u.call(this);break;default:d.call(this)}else"rotate"==this.state?(i.preMoney=0,this.minerToleft(),this.unschedule(this.callback)):(l||(this.clawOpen(),this.claw.objHide(),this.state="up",this.animation.stop(),this.getAnimation(n.fastSpeed),this.animation.play(this.animationType),l=!0),u.call(this))},this.schedule(this.callback,.01)},clawOpen:function(){var e=cc.rotateTo(.2,0),t=cc.rotateTo(.2,0);this.claw0Node.runAction(e),this.claw1Node.runAction(t)},clawClose:function(){var e=cc.rotateTo(.1,-15),t=cc.rotateTo(.1,15);this.claw0Node.runAction(e),this.claw1Node.runAction(t)}}),cc._RF.pop()},{initObj:"initObj"}],obj:[function(e,t){"use strict";cc._RF.push(t,"3ebba/od35LSa1iUZtf7Cg0","obj");var n=e("initObj");cc.Class({extends:cc.Component,properties:{gold1:{default:null,type:cc.Prefab},gold2:{default:null,type:cc.Prefab},gold3:{default:null,type:cc.Prefab},gold4:{default:null,type:cc.Prefab},stone0:{default:null,type:cc.Prefab},stone1:{default:null,type:cc.Prefab}},init:function(){this.node.removeAllChildren();for(var e,t,i=n.getobj(),o=0;o<i.length;o++)e=i[o],(t=cc.instantiate(this[e.name])).parent=this.node,t.setPosition(e.x,e.y)}}),cc._RF.pop()},{initObj:"initObj"}],state:[function(e,t){"use strict";cc._RF.push(t,"f3c4adUPI5DTrgBgBlUjqGl","state");var n=e("initObj"),i=n.player;cc.Class({extends:cc.Component,properties:{gameNode:{type:cc.Node,default:null},levelTimeBanner:{type:cc.Node,default:null},target:{type:cc.Node,default:null},money:{type:cc.Node,default:null},level:{type:cc.Node,default:null},timer:{type:cc.Node,default:null}},onLoad:function(){this.game=this.gameNode.getComponent("game")},init:function(){this.setLevel(),this.setTarget(),this.rMenuToBtn(),this.timeRun()},rMenuToBtn:function(){var e=cc.moveBy(.8,cc.Vec2(0,-127));this.levelTimeBanner.setPosition(n.levelTimeBanner.position),this.scheduleOnce(function(){this.levelTimeBanner.runAction(e)},.8)},timeRun:function(){var e=n.time;this.callback=function(){i.pause||(e--,this.timer.getComponents(cc.Label)[0].string=e,e<=0&&(this.game.gameEnd(),this.unschedule(this.callback)))},this.schedule(this.callback,1)},setLevel:function(){this.level.getComponents(cc.Label)[0].string=i.level},setTarget:function(){this.target.getComponents(cc.Label)[0].string=i.getTarget()},addMoney:function(){var e=i.money-0+i.preMoney;i.money=e,this.money.getComponents(cc.Label)[0].string=e}}),cc._RF.pop()},{initObj:"initObj"}],use_reversed_rotateTo:[function(e,t){"use strict";cc._RF.push(t,"58240Ml1YZCx6mdK0ghdtwf","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}]},{},["use_reversed_rotateTo","ButtonScaler","config","initObj","game","bg","claw","levelover","miner","obj","state","index","menu"]);